<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous" type="text/javascript" charset="utf-8"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js" type="text/javascript" charset="utf-8"></script>
    
    <!-- Chart Device Data Script -->
    <script src="js/chart-device-data.js" type="text/javascript" charset="utf-8"></script>

    <!-- Script para o status dos sensores -->
    <script src="js/sensor-status.js" type="text/javascript" charset="utf-8"></script>

    
    <!-- CSS Style -->
    <link href="css/style.css" rel="stylesheet" />
    <style>
        /* Estilo para o texto "Temperatura e Umidade em tempo real" */
        #pageTitle {
            font-size: 24px; /* Tamanho da fonte */
            text-align: center; /* Texto centralizado */
            position: absolute; /* Posição absoluta */
            top: 30px; /* Distância do topo */
            color: white; /* Cor do texto */
            left: 50%; /* Centralizar na horizontal */
            transform: translateX(-50%); /* Corrigir a centralização */
        }
        
        /* Estilo para o botão de logout */
        #logoutButton {
            padding: 10px 20px; /* Espaçamento interno */
            font-size: 16px; /* Tamanho da fonte */
            border: none; /* Sem borda */
            border-radius: 5px; /* Borda arredondada */
            background-color: #e20404; /* Cor de fundo */
            color: white; /* Cor do texto */
            cursor: pointer; /* Altera o cursor para indicar que é clicável */
            transition: background-color 0.3s; /* Transição suave da cor de fundo */
        }
        
        #logoutButton:hover {
            background-color: #d32f2f; /* Cor de fundo ao passar o mouse */
        }

        /* Estilo para o background */
        body {
            background-image: url('/images/background.jpg');
            background-repeat: no-repeat;
            background-size: cover;
        }

        /* Estilo responsivo para o gráfico */
        #iotChart {
            max-width: 100%; /* O gráfico ocupa no máximo 100% da largura disponível */
            height: auto; /* A altura se ajusta automaticamente para manter a proporção */
        }

        /* Estilo para os quadrados dos sensores */
        .sensorSquare {
            width: 20px; /* Largura do quadrado */
            height: 20px; /* Altura do quadrado */
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px; /* Espaçamento entre os quadrados */
            border: 1px solid white; /* Borda branca */
        }

        .sensorLabel {
            color: white; /* Cor do texto */
            margin-left: 5px; /* Espaço entre o quadrado e o texto */
            display: inline-block;
            vertical-align: middle;
        }

        /* Ajuste para alinhar os contêineres dos sensores */
        .sensorMagnetismoContainer,
        .sensorPresencaContainer,
        .sensorTravaContainer {
            display: flex; /* Usar flexbox para alinhar verticalmente */
            align-items: center; /* Centralizar verticalmente os itens */
            margin-bottom: 10px; /* Espaçamento entre os contêineres */
        }

        /* Ajuste adicional para o grupo de sensores à direita */
        .sensorGroupRight {
            display: flex; /* Usar flexbox para o layout */
            flex-direction: column; /* Colocar os itens em coluna */
            align-items: flex-start; /* Alinhar itens à esquerda */
            margin-left: 850px; /* Mover para a direita */
            padding: 10px; /* Espaçamento interno */
        }
    </style>

    <!-- Favicon -->
    <link rel="icon" href="images/favicon.png" type="image/png">

    <title>Security Smart House</title>
</head>

<body>
    <div class="flexHeader">
        <div>
            <span id="deviceCount" style="color: white;">0 sensores</span>
            <select id="listOfDevices" class="select_box"></select>
        </div>
        <div class="sensorGroupRight">
            <div class="sensorMagnetismoContainer">
                <div id="sensorMagnetismo" class="sensorSquare"></div>
                <span class="sensorLabel">SENSOR DE MAGNETISMO</span>
            </div>
            <div class="sensorPresencaContainer">
                <div id="sensorPresenca" class="sensorSquare"></div>
                <span class="sensorLabel">SENSOR DE PRESENÇA</span>
            </div>
            <div class="sensorTravaContainer">
                <div id="sensorTrava" class="sensorSquare"></div>
                <span class="sensorLabel">SENSOR DA TRAVA</span>
            </div>
        </div>
        <div>
            <button id="logoutButton">Sair</button>
        </div>
    </div>
    <div>
        <span id="pageTitle">Sensores em tempo real</span>
        <canvas id="iotChart"></canvas>
    </div>

    <!-- Script para lidar com o logout -->
    <script>
        $(document).ready(function() {
            $('#logoutButton').click(function() {
                // Redirecionar para a rota de logout
                window.location.href = '/logout';
            });
        });
    </script>
</body>
</html>
